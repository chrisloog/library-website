{% import '../functions.php' as functions %}
{% set books = functions.getData('books.txt') %}

<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>Book list</title>
		<link rel="stylesheet" href="styles.css">
	</head>
	<body>
		<div id="container">
			<header>
				<div class="header-footer">
					<a href="">Books</a>&nbsp;|&nbsp;
					<a href="book-add.twig">Add books</a>&nbsp;|&nbsp;
					<a href="author-list.twig">Authors</a>&nbsp;|&nbsp;
					<a href="author-add.twig">Add authors</a>
				</div>
				{% if msg == 'error' %}
					<div class="header-footer" id="success-message">
						Success!
					</div>
				{% endif %}
			</header>
			<main>
				<section>
					<div class="row labels">
						<div class="column left">Title</div>
						<div class="column middle">Author</div>
						<div class="column right">Rating</div>
					</div>
					<hr>
					{% for book in books %}
						<div class="row">
							<div class="column left">
								<a href="book-add.php?title={{ book[0]|url_encode }}&author={{ book[1]|url_encode }}&rating={{ book[2]|url_encode }}" id="book-link">{{ book[0] }}</a>
							</div>
							<div class="column middle">
								{{ book[1] }}
							</div>
							<div class="column right">
								{{ book[2] }}
							</div>
						</div>
					{% endfor %}
				</section>
			</main>
			<footer>
				<div class="header-footer">
					Library Project
				</div>
			</footer>
		</div>
	</body>
</html>
